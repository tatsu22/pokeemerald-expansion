mapscripts OldaleTown_ChestnuthillDiner_MapScripts {}

script OldaleTown_ChestnuthillDiner_EventScript_Woman1 {
    lockall
    faceplayer
    msgbox("He won't stop talking about cheese...")
    releaseall
}

script OldaleTown_ChestnuthillDiner_EventScript_Woman2 {
    lockall
    faceplayer
    msgbox("Take a seat and I'll be right with you.")
    releaseall
}

script OldaleTown_ChestnuthillDiner_EventScript_Man1 {
    lockall
    faceplayer
    msgbox("We're on our first date! \n"
        "I think it's going well!")
    releaseall
}

script OldaleTown_ChestnuthillDiner_EventScript_FirstDate_North {
    lockall
    msgbox("TYLER: Hey, Tara!")
    applymovement(OBJ_EVENT_ID_PLAYER, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerFaceLeft)
    waitmovement(0)
    applymovement(3, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkToPlayerNorth)
    waitmovement(0)
    msgbox("TYLER: I, uh, got us a table.")
    applymovement(3, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkBackToTableNorth)
    applymovement(OBJ_EVENT_ID_PLAYER, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerWalkToTableNorth)
    waitmovement(0)
    waitmovement(0)
    call(OldaleTown_ChestnuthillDiner_EventScript_FirstDate)
    end
}

script OldaleTown_ChestnuthillDiner_EventScript_FirstDate_NorthWest {
    lockall
    msgbox("TYLER: Hey, Tara!")
    applymovement(OBJ_EVENT_ID_PLAYER, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerFaceLeft)
    waitmovement(0)
    applymovement(3, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkToPlayerNorthWest)
    waitmovement(0)
    msgbox("TYLER: I, uh, got us a table.")
    applymovement(3, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkBackToTableWNW)
    applymovement(OBJ_EVENT_ID_PLAYER, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerWalkToTableNorthWest)
    waitmovement(0)
    waitmovement(0)
    call(OldaleTown_ChestnuthillDiner_EventScript_FirstDate)
    end
}

script OldaleTown_ChestnuthillDiner_EventScript_FirstDate_East {
    lockall
    msgbox("TYLER: Hey, Tara!")
    applymovement(OBJ_EVENT_ID_PLAYER, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerFaceUp)
    waitmovement(0)
    applymovement(3, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkToPlayerEast)
    waitmovement(0)
    msgbox("TYLER: I, uh, got us a table.")
    applymovement(3, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkBackToTableEast)
    applymovement(OBJ_EVENT_ID_PLAYER, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerWalkToTableEast)
    waitmovement(0)
    waitmovement(0)
    call(OldaleTown_ChestnuthillDiner_EventScript_FirstDate)
    end
}

script OldaleTown_ChestnuthillDiner_EventScript_FirstDate_West {
    lockall
    msgbox("TYLER: Hey, Tara!")
    applymovement(OBJ_EVENT_ID_PLAYER, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerFaceUp)
    waitmovement(0)
    applymovement(3, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkToPlayerWest)
    waitmovement(0)
    msgbox("TYLER: I, uh, got us a table.")
    applymovement(3, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkBackToTableWNW)
    applymovement(OBJ_EVENT_ID_PLAYER, OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerWalkToTableWest)
    waitmovement(0)
    waitmovement(0)
    call(OldaleTown_ChestnuthillDiner_EventScript_FirstDate)
    end
}

script OldaleTown_ChestnuthillDiner_EventScript_FirstDate {
    // TODO: Write better
    setflag(FLAG_CHESTNUTHILL_DINER_HIDE_TYLER)
    clearflag(FLAG_OLDALE_TOWN_HIDE_TYLER)
    msgbox("TYLER: So... uh... ")
    msgbox("Do you like your new Pokemon?")
    msgbox("...")
    msgbox("That's great! What else \ndo you like to do?")
    msgbox("...")
    msgbox("That sounds fun! What do \nyou like about it?")
    msgbox("...")
    msgbox("...")
    setvar(VAR_RELATIONSHIP_COUNTER, 1)
    warp(MAP_OLDALE_TOWN, 32, 9)
    waitstate
    releaseall
    end
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkToPlayerNorth {
    walk_down
    walk_right * 6
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkToPlayerNorthWest {
    walk_down
    walk_right * 5
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkToPlayerEast {
    walk_down
    walk_right * 8
    face_down
}


movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkToPlayerWest {
    walk_down
    walk_right * 5
    face_down
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkBackToTableWNW {
    walk_left * 5
    walk_up
    face_right
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkBackToTableNorth {
    walk_left * 6
    walk_up
    face_right
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_WalkBackToTableEast {
    walk_left * 8
    walk_up
    face_right
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerWalkToTableWest {
    walk_up
    walk_left * 2
    walk_up
    face_left
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerWalkToTableNorthWest {
    walk_left * 3
    walk_up
    face_left
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerWalkToTableNorth {
    walk_left * 4
    walk_up
    face_left
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerWalkToTableEast {
    walk_up
    walk_left * 5
    walk_up
    face_left
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerFaceLeft {
    face_left
}

movement OldaleTown_ChestnuthillDiner_EventScript_FirstDate_PlayerFaceUp {
    face_up
}
